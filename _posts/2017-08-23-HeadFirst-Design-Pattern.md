---
layout: post
title: HeadFirst [Design pattern]
categories: Interview
---


## 디자인 패턴

디자인 패턴은 코드를 재사용하는 것과 마찬가지로 경험을 재사용하는 것이다.

상속의 문제점 : 코드의 한 부분만을 바꿈으로 해서 프로그램 전체에 부작요이 발생할 수 있다.

예를 들어, 오리를 대표하는 클래스 하나를 상속한다고 하자.
1. 오리를 상속한다.
2. 파파 오리는 파파하고 울고 날지 못한다
3. 아아 오리는 아아하고 울고 날 수 있다.
4. 장난감 오리는 울지 못하고 날 수 없다.
5. 오리의 모든 특성이 같다면 상속이 맞지만
6. 상속은 해결책이 아님을 깨닫는다.

위에 문제는 인터페이스를 이용햇 해결할 수 없을까?

1. 오리의 대표성을 상속한다.
2. 오리의 울음소리를 인터페이스 구현, 다중 상속한다
3. 오리의 날 수 있는 여부를 인터페이스 구현, 다중 상속한다.
4. 일부의 문제는 해결할 수 있으나 다른 문제가 생긴다.
5. 코드의 중복이 엄청날 것을 예상하고 바보같은 생각이었음을 깨닫는다.
6. 코드 재사용을 기대할 수 없다, 오리마다 나는 방식이, 우는 방식이 다를 수 있음을 생각하고 있어야한다.
7. 한 행동이 바꿀 대마다 그 행동이 정의되어 있는 서로 다른 서브클래스들을 전부 찾아서 코드를 일일이 고쳐야 한다.

소프트웨어를 만들 대, 나중에 혹시 고쳐야 할 때도 기존 코드에 미치는 영향은 최소한으로 줄이면서 작업을 할 수 있도록 만들 수 있는 방법이 있다면 행복하지 않을까?

#### 디자인 원칙

##### 문제를 명확하게 파악하기

디자인 원칙
1. 애플리케이션에서 달라지는 부분을 찾아내고, 달라지지 않는 부분으로부터 분리시킨다.
"바뀌는 부분은 따로 뽑아서 캡슐화시킨다. 그렇게 하면 나중에 바귀지 않는 부분에는 영향을 미치지 않은 채로 그 부분만 고치거나 확장할 수 있다."

디자인 패턴은 시스템의 일부분을 다른 부분과 독립적으로 변화시킬 수 있는 방법을 제공하기 위한 것이다.

2. 구현이 아닌 인터페이스에 맞춰서 프로그래밍한다. = 상위 형식에 맞춰서 프로그래밍한다

``` java
구현에 맞춰서 프로그래밍을 한다
Dog myDog = new Dog();

인터페이스 / 상위 형식에 맞춰서 프로그래밍한다 (다형성)
Animal myDog = new Dog();
```
3. 상속보다는 구성을 활용한다.

"A는 B이다"보다 "A에는 B가 있다"가 나을 수 있다.

각 오리는 각각 행동과 꽥꽥거리는 행동을 위임받는다.

두 클래스를 합치는 것을 구성을 이용하는 것이라고 한다.
