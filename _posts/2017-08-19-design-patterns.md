---
layout: post
title: 인프런 [Design pattern]
categories: Interview
---

# 디자인 패턴

디자인 패턴의 기본

선언과 구현

## Strategy pattern (전략 패턴)

인터페이스란 무엇인가?

1. 사람과 컴퓨터를 연결하는 장치
2. 어떤 두 객체를 연결시켜주는 접점이 인터페이스가 될 수 있다.


* 기능에 대한 선언과 구현 분리
* 기능을 사용하는 통로

델리게이트 : 위임하다

두 객체 간의 관계에서 델리게이트한다고 한다.
- 다른 객체 기능을 빌려서 사용하는 것
- 즉, 특정 객체의 기능을 사용하기 위해서 다른 객체의 기능을 호출하는 것

### Strategy 패턴

여러 알고리즘을 하나의 "추상적인 접근점"을 만들어 접근점에서 서로 "교환 가능"하도록 하는 패턴

즉, 추상적인 접근점 = 인터페이스를 만들어서 서로 교환이 가능하게 만드는 패턴

요구사항

1. 신작 게임에서 캐릭터와 무기를 구현해보세요
- 무기는 두 종류가 있습니다. (칼, 검)
- ()무기라는 추상적인 접근점으로 교환할 수 있게 한다.)
- 무기에 도끼를 추가해주세요..!!

### Adapter 패턴

연관성 없는 두 객체 묶어 사용하기

알고리즘을 요구사항에 맞춰 사용할 수 있다.

요구 사항

1. 두 수에 대한 다음 연산을 수행하는 객체를 만들어주세요
 - 수의 두 배를 반환 : twiceOf(Float) ; Float
 - 수의 (1/2)반을 반환 : halfOf(Float) ; Float

- 구현 객체의 이름은 Adapter
- Math 클래스에 이미 구현이 되어 있다.

- 알고리즘 변경을 원합니다!!
 - Math 클래스에 새롭게 두 배를 구할 수 있는 함수가 추가되었습니다.
 - 새로 구현된 알고리즘을 이용하도록 프로그램 구성해주세요
- 절반을 구하는 기능에서 로그를 찍는 기능을 추가해 주세요.

### Template Method 패턴

공통적인 프로세스를 묶어 주기

일정한 프로세스를 가진 요구사항을 템플릿 메소드 패턴을 이용하여 구현할 수 있다.

알고리즘의 구조를 메소드에 정의하고 하위 클래스에서 알고리즘 구저의 변경없이 알고리즘을 재정의 하는 패턴

- 구현하려는 알고리즘이 일정한 프로세스가 있다.
- 구현하려는 알고리즘이 변경 가능성이 있다.

단계
1. 알고리즘을 여러 단계로 나눈다
2. 나눠진 알고리즘의 단계를 메소드로 선언한다 (스텝 1, 스텝 2, 스텝 3..로 선언한다)
3. 알고리즘을 수행할 템플릿 메소드를 만든다
4. 하위 클래스에서 나눠진 메소드들을 구현한다

요구사항
- 신작 게임의 접속을 구현해주세요
 - requestConnection(String str): String
- 유저가 게임 접속 시 다음을 고려해야합니다./
 - 보안 과정 : 보안 관련 부분을 처리합니다.
  - doSecurity(String string): String
 - 인증 과정 : user name 과 password가 일치하는지 확인한다
  - authentication(String id, String password): boolean
 - 권한 과정 : 접속자가 유료 회원인지 무료 회원인지 게임 마스터이지 확인한다
  - authorization(String user name): int
 - 접속 과정 : 접속자에게 커넥션 정보를 넘겨줍니다.
  - connection(String info): String

추가적인 요구사항
- 보안 부분이 정부 정책에 의해서 강화 되었습니다.
- 셧다운제때문에 10시 이후에 접속은 제한됩니다.

### Factory Method 패턴

학습 목표
- 팩토리 메소드 패턴에서 "템플릿 메소드 패턴"의 사용됨을 안다.
- 팩토리 메소드 패턴에서의 구조와 구현의 분리를 이해하고 구조와 구현의 분리의 장점을 안다.

요구 사항
- 개인 아이템과 아이템 생성을 구현해주세요
  - 아이템을 생성하기 전에 데이터 베이스에서 아이템 정보를 요청합니다
  - 아이템을 생성 후 아이템 복제 등의 불법을 방지하기 위해 데이터 베이스에 아이템 생성 정보를 남깁니다.
- 아이템을 생성하는 주체를 ItemCreator로 이름 짓습니다
- 아이템은 item이라는 interface로 다룰 수 있도록 합니다.
  - item은 use함수를 기본 함수로 갖고잇습니다.
- 현재 아이템의 종류는 체력 회복 물약, 마력 회복 물약이 있습니다.

### State 패턴

상태를 객체로 나타내기

상태 패턴을 통해 상태를 객체로 나타내고 행동을 구현한다.

키워드 : 객체 상태 행동

State vs Strategy
Strategy 사용자가 어떻게 사용하는 가에 의존적이다. 행동을 소유한 객체를 실행 시에 선택할 수 있게 하여 상황에 맞는 행동을 하게 하는데 유용하다.
State 객체의 행동에 따라 상태가 변한다. 어떤 객체의 상태 전이를 쉽게 하여 변화된 상태에 맞는 행동을 하게 하는 데 유용하다.
일반적으로 복잡하게 나열된 switch문이나 if-else문을 만나게 되면 고려해야 할 것이 'state 패턴'

### State versus Strategy

State
